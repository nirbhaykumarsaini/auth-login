{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nirbh\\\\OneDrive\\\\Desktop\\\\Company Auth Project\\\\frontend\\\\src\\\\pages\\\\EmployeeForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmployeeForm = ({\n  employee,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    f_Name: '',\n    f_Email: '',\n    f_Mobile: '',\n    f_Designation: '',\n    f_gender: '',\n    f_Course: [],\n    f_Image: null\n  });\n  useEffect(() => {\n    if (employee) {\n      setFormData(employee);\n    }\n  }, [employee]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      f_Image: e.target.files[0]\n    }));\n  };\n  const storedToken = localStorage.getItem('token');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formDataToSend = new FormData();\n    for (const key in formData) {\n      formDataToSend.append(key, formData[key]);\n    }\n    try {\n      if (employee) {\n        await axios.put(`http://localhost:5000/api/employees/${employee.f_Id}`, formDataToSend);\n      } else {\n        await axios.post('http://localhost:5000/api/employees/create', formDataToSend, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data' // if you're sending files\n          }\n        });\n      }\n      onSave();\n    } catch (error) {\n      console.error('Error saving employee:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"f_Name\",\n      value: formData.f_Name,\n      onChange: handleChange,\n      placeholder: \"Name\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      name: \"f_Email\",\n      value: formData.f_Email,\n      onChange: handleChange,\n      placeholder: \"Email\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"tel\",\n      name: \"f_Mobile\",\n      value: formData.f_Mobile,\n      onChange: handleChange,\n      placeholder: \"Mobile\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"f_Designation\",\n      value: formData.f_Designation,\n      onChange: handleChange,\n      placeholder: \"Designation\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"f_gender\",\n      value: formData.f_gender,\n      onChange: handleChange,\n      placeholder: \"Gender\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"f_Course\",\n      value: formData.f_Course,\n      onChange: e => setFormData(prev => ({\n        ...prev,\n        f_Course: e.target.value.split(',')\n      })),\n      placeholder: \"Courses (comma-separated)\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"f_Image\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: onCancel,\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(EmployeeForm, \"kj2ir2JYkiOJyehMIbA6h2QlFJk=\");\n_c = EmployeeForm;\nexport default EmployeeForm;\nvar _c;\n$RefreshReg$(_c, \"EmployeeForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","EmployeeForm","employee","onSave","onCancel","_s","formData","setFormData","f_Name","f_Email","f_Mobile","f_Designation","f_gender","f_Course","f_Image","handleChange","e","name","value","target","prev","handleFileChange","files","storedToken","localStorage","getItem","handleSubmit","preventDefault","formDataToSend","FormData","key","append","put","f_Id","post","headers","Authorization","token","error","console","onSubmit","children","type","onChange","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","split","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nirbh/OneDrive/Desktop/Company Auth Project/frontend/src/pages/EmployeeForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst EmployeeForm = ({ employee, onSave, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    f_Name: '',\r\n    f_Email: '',\r\n    f_Mobile: '',\r\n    f_Designation: '',\r\n    f_gender: '',\r\n    f_Course: [],\r\n    f_Image: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (employee) {\r\n      setFormData(employee);\r\n    }\r\n  }, [employee]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setFormData((prev) => ({ ...prev, f_Image: e.target.files[0] }));\r\n  };\r\n  const storedToken = localStorage.getItem('token');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formDataToSend = new FormData();\r\n    for (const key in formData) {\r\n      formDataToSend.append(key, formData[key]);\r\n    }\r\n\r\n    try {\r\n      if (employee) {\r\n        await axios.put(`http://localhost:5000/api/employees/${employee.f_Id}`, formDataToSend);\r\n      } else {\r\n        await axios.post('http://localhost:5000/api/employees/create', formDataToSend,{\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'multipart/form-data', // if you're sending files\r\n          },\r\n        });\r\n      }\r\n      onSave();\r\n    } catch (error) {\r\n      console.error('Error saving employee:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"f_Name\"\r\n        value={formData.f_Name}\r\n        onChange={handleChange}\r\n        placeholder=\"Name\"\r\n        required\r\n      />\r\n      <input\r\n        type=\"email\"\r\n        name=\"f_Email\"\r\n        value={formData.f_Email}\r\n        onChange={handleChange}\r\n        placeholder=\"Email\"\r\n        required\r\n      />\r\n      <input\r\n        type=\"tel\"\r\n        name=\"f_Mobile\"\r\n        value={formData.f_Mobile}\r\n        onChange={handleChange}\r\n        placeholder=\"Mobile\"\r\n        required\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"f_Designation\"\r\n        value={formData.f_Designation}\r\n        onChange={handleChange}\r\n        placeholder=\"Designation\"\r\n        required\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"f_gender\"\r\n        value={formData.f_gender}\r\n        onChange={handleChange}\r\n        placeholder=\"Gender\"\r\n        required\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"f_Course\"\r\n        value={formData.f_Course}\r\n        onChange={(e) => setFormData((prev) => ({ ...prev, f_Course: e.target.value.split(',') }))}\r\n        placeholder=\"Courses (comma-separated)\"\r\n        required\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        name=\"f_Image\"\r\n        onChange={handleFileChange}\r\n      />\r\n      <button type=\"submit\">Save</button>\r\n      <button type=\"button\" onClick={onCancel}>Cancel</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EmployeeForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}